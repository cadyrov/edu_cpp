# Аргументы функций в C++

## Передача по значению
- По умолчанию аргументы передаются по значению (копируются).
- Изменения параметра внутри функции не влияют на оригинальную переменную.

```cpp
// Возвращает квадрат числа
double Sqr(double x) {
    return x * x;
}

int main() {
    double a = 5;
    double b = Sqr(a);     // b = 25
    double c = Sqr(a - 8); // c = 9
}
```

## Передача по ссылке
- Позволяет функции изменять оригинальный объект.
- Используется для выходных аргументов и экономии ресурсов при работе с большими объектами.

```cpp
// Удаляет все пробелы из строки
void RemoveSpaces(std::string& str) {
    size_t dst_index = 0;
    for (size_t src_index = 0; src_index < str.length(); ++src_index) {
        char ch = str[src_index];
        if (ch != ' ') {
            str[dst_index] = ch;
            ++dst_index;
        }
    }
    str.resize(dst_index);
}

int main() {
    std::string text = "Hello! How are you?";
    RemoveSpaces(text); // text = "Hello!Howareyou?"
}
```

## Выходные аргументы (output arguments)
- Используются для возврата дополнительной информации из функции.

```cpp
// Возвращает обратное число и признак ошибки через ссылку
#include <cmath>
double Invert(double number, bool& was_error) {
    double result = 1. / number;
    was_error = !std::isfinite(result);
    return was_error ? 0.0 : result;
}
```

## Передача по константной ссылке
- Используется для передачи больших объектов без копирования, если функция не должна их изменять.
- Можно передавать временные объекты и константы.

```cpp
// Выводит строку в кавычках
void PrintQuoted(const std::string& str) {
    std::cout << '"' << str << '"' << std::endl;
}

int main() {
    PrintQuoted("Hello world!");
}
```

## Когда что использовать?
- Простые типы (int, double, char, bool) — по значению
- Большие объекты (std::string, std::vector) — по константной ссылке, если не требуется изменять
- Для изменения оригинала — по ссылке
- Для возврата копии с изменениями — по значению

## Примеры выбора способа передачи
```cpp
// По константной ссылке (не изменяет строку, не копирует)
size_t CountSpaces(const std::string& str);
// По значению (int — легковесный)
bool IsEven(int n);
// По ссылке (меняет оба аргумента)
void Swap(int& x, int& y);
// По значению (возвращает модуль, не меняет аргумент)
int Abs(int x);
// По значению (возвращает копию строки с изменениями)
std::string ToLowercase(std::string str);
```

## Ограничения передачи по ссылке
- Нельзя передать временный объект или константу в функцию, принимающую неконстантную ссылку.
- Можно передавать временные объекты и константы только по константной ссылке.

## Значения аргументов по умолчанию
- Можно задать значения по умолчанию для параметров функции.
- Все параметры после первого с дефолтным значением тоже должны иметь значения по умолчанию.

```cpp
// Переводит число в строку с указанным основанием (по умолчанию 10)
std::string NumberToString(int number, int base = 10);

void FnOK(int x, double y = 3.0, int z = 42); // OK
// void FnError(int x, double y = 3.0, int z, char w); // Ошибка
```

## Важные моменты
1. Передача по значению защищает оригинальные данные
2. Передача по ссылке позволяет изменять оригинал
3. Передача по константной ссылке экономит ресурсы и защищает от изменений
4. Выходные аргументы позволяют возвращать несколько значений
5. Значения по умолчанию делают функции удобнее
6. Выбирайте способ передачи осознанно, исходя из задачи 