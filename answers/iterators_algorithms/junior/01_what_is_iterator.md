# Что такое итератор?

## Вопрос
Что такое итератор?

## Ответ
Итератор - это объект, который позволяет перебирать элементы контейнера, не раскрывая его внутреннюю структуру. Итераторы предоставляют унифицированный способ доступа к элементам различных контейнеров.

## Примеры кода

### Правильное использование
```cpp
#include <vector>
#include <iostream>

int main() {
    std::vector<int> numbers = {1, 2, 3, 4, 5};
    
    // Использование итератора для перебора элементов
    for (std::vector<int>::iterator it = numbers.begin(); it != numbers.end(); ++it) {
        std::cout << *it << " ";
    }
    
    // Современный C++ с auto
    for (auto it = numbers.begin(); it != numbers.end(); ++it) {
        std::cout << *it << " ";
    }
    
    // Range-based for loop (внутри использует итераторы)
    for (const auto& num : numbers) {
        std::cout << num << " ";
    }
    
    return 0;
}
```

### Неправильное использование
```cpp
#include <vector>
#include <iostream>

int main() {
    std::vector<int> numbers = {1, 2, 3, 4, 5};
    
    // ❌ Неправильно: изменение итератора после инвалидации
    auto it = numbers.begin();
    numbers.push_back(6); // Инвалидирует итератор
    std::cout << *it; // Неопределенное поведение
    
    // ❌ Неправильно: использование итератора после удаления элемента
    auto it2 = numbers.begin() + 2;
    numbers.erase(numbers.begin());
    std::cout << *it2; // Неопределенное поведение
    
    return 0;
}
```

## Комментарии
1. Итераторы предоставляют абстракцию над различными контейнерами
2. Основные операции с итераторами:
   - `*it` - разыменование (доступ к элементу)
   - `++it` - переход к следующему элементу
   - `it != end()` - проверка на достижение конца
3. Итераторы могут быть инвалидированы при:
   - Изменении размера контейнера
   - Удалении элементов
   - Изменении порядка элементов
4. В современном C++ предпочтительнее использовать range-based for loop
5. Для константных контейнеров следует использовать const_iterator 